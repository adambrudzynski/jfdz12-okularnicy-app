(this.webpackJsonppackmeapp=this.webpackJsonppackmeapp||[]).push([[0],{285:function(e,t,a){e.exports=a(487)},305:function(e,t,a){},306:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},420:function(e,t,a){},487:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(76),c=a.n(l),i=a(18),o=a.n(i),u=(a(305),a(306),a(15)),s=a(271),m=a(56),d=a(100),p=a(272),h=a(491),E=a(30),f=a(23),g=a(35),b=a(36),v=a(38),C=a(37),y=r.a.createContext(null),O=function(e){Object(v.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:"",userList:[],refresh:!1},e.fetchList=function(){e.state.user&&o.a.database().ref("user-items/"+e.state.user.uid+"/list").on("value",(function(t){var a=t.val();a?e.setState({userList:a}):e.setState({userList:[]})}))},e.addToList=function(t){var a=t;a.done=!1,e.setState({userList:[].concat(Object(f.a)(e.state.userList),[a])},(function(){return o.a.database().ref("user-items/"+e.state.user.uid).set({list:Object(f.a)(e.state.userList)})}))},e.removeFromList=function(t){var a=Object(f.a)(e.state.userList),n=e.state.userList.map((function(e){return e.id})).indexOf(t);n>-1&&a.splice(n,1),e.setState({userList:a},(function(){return o.a.database().ref("user-items/"+e.state.user.uid).set({list:Object(f.a)(e.state.userList)})}))},e.markAsDone=function(t){var a=Object(f.a)(e.state.userList),n=e.state.userList.map((function(e){return e.id})).indexOf(t);n>-1&&(console.log("done",a),a[n].done=!a[n].done),e.setState({userList:a},(function(){return o.a.database().ref("user-items/"+e.state.user.uid).set({list:Object(f.a)(e.state.userList)})}))},e.refresh=function(){e.setState((function(e){return{refresh:!e.refresh}}))},e.logout=function(){o.a.auth().signOut().then((function(){return e.setState({user:"",userList:[]})}))},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=o.a.auth().onAuthStateChanged((function(t){e.setState({user:t},(function(){return e.fetchList()}))}));this.setState({ref:t})}},{key:"componentWillUnmount",value:function(){this.state.ref&&this.state.ref()}},{key:"render",value:function(){return r.a.createElement(y.Provider,{value:{state:this.state,addToList:this.addToList,markAsDone:this.markAsDone,removeFromList:this.removeFromList,refresh:this.refresh,logout:this.logout}},this.props.children)}}]),a}(r.a.Component),j=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(y),i=function(e,t){var a=t.name;return l(a)};return r.a.createElement(s.a,{icon:"labeled",size:"mini",fixed:"bottom"},r.a.createElement(E.b,{to:"/user-list"},r.a.createElement(s.a.Item,{name:"list",active:"list"===a,onClick:i},r.a.createElement(m.a,{name:"list ul"}),c.state.userList.length>0&&r.a.createElement(d.a,{floating:!0,color:"teal",circular:!0},c.state.userList.length),"My list")),r.a.createElement(E.b,{to:"/"},r.a.createElement(s.a.Item,{name:"home",active:"home"===a,onClick:i},r.a.createElement(m.a,{name:"home"}),"Home")),r.a.createElement(E.b,{to:"/wallet"},r.a.createElement(s.a.Item,{name:"wallet",active:"wallet"===a,onClick:i},r.a.createElement(m.a,{name:"money bill alternate outline"}),"Wallet")),c.state.user&&r.a.createElement(s.a.Menu,{position:"right"},r.a.createElement(E.b,{to:"/userProfile"},r.a.createElement(s.a.Item,{name:"user",active:"user"===a,onClick:i},r.a.createElement(p.a,{size:"mini",avatar:!0,src:c.state.user.photoURL||"/assets/userPlaceholder.jpg"}))),r.a.createElement(s.a.Item,null,r.a.createElement(h.a,{onClick:function(){return c.logout()},content:"Logout"}))))},k=a(68),w=a(42),S=a(508),x=a(174),I=a(514),L=a(501),F=a(21),T=a(507),P=[{key:"1",value:1,text:"food"},{key:"2",value:2,text:"clothes"},{key:"3",value:3,text:"cosmetics"},{key:"4",value:4,text:"health"},{key:"5",value:5,text:"documents"},{key:"6",value:6,text:"underwear"},{key:"7",value:7,text:"sports equipment"},{key:"8",value:8,text:"jewellery"},{key:"9",value:9,text:"my favourite"},{key:"10",value:10,text:"other"}];var A=function(e){return r.a.createElement(T.a,Object(F.a)({fluid:!0,selection:!0,placeholder:"Type",clearable:!0,value:e.value,onChange:function(t,a){var n=a.value;e.handleChangeType(n)},options:P},"selection",!0))},D=a(499);function R(e){return r.a.createElement(D.a,{icon:"search",placeholder:"Search...",value:e.value,onChange:e.onChange})}var z=a(505),N=a(500);a(415);function B(e){var t=function(t,a){var n=a.value;e.onChangeRadio(n)};return r.a.createElement(z.a.Field,{className:"radio"},r.a.createElement(N.a,{className:"radioItem",label:"All",name:"radioGroup",value:"all",checked:"all"===e.value,onChange:t}),r.a.createElement(N.a,{className:"radioItem",label:"Sunny",name:"radioGroup",value:1,checked:1===e.value,onChange:t}),r.a.createElement(N.a,{className:"radioItem",label:"Cold",name:"radioGroup",value:2,checked:2===e.value,onChange:t}),r.a.createElement(N.a,{className:"radioItem",label:"Windy",name:"radioGroup",value:3,checked:3===e.value,onChange:t}),r.a.createElement(N.a,{className:"radioItem",label:"Stormy",name:"radioGroup",value:4,checked:4===e.value,onChange:t}))}function G(e){var t=Object(n.useContext)(y);function a(e){return t.state.userList.map((function(e){return e.id})).indexOf(e.id)}var l=function(){return t.state.userList[a(e.item)].done};return r.a.createElement(r.a.Fragment,null," ",a(e.item)>-1?r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{size:"large",color:"red",icon:!0,floated:"right",onClick:function(){return t.removeFromList(e.item.id)}},r.a.createElement(m.a,{name:"minus"})),e.desc&&(l()?r.a.createElement(d.a,{color:"green",horizontal:!0},"Packed"):r.a.createElement(d.a,{color:"gray",horizontal:!0},"To pack")),e.list&&r.a.createElement(h.a,{size:"large",color:l()&&"orange",icon:!0,floated:"right",onClick:function(){return t.markAsDone(e.item.id)}},r.a.createElement(m.a,{color:l()&&"green",name:"check"}))):r.a.createElement(h.a,{color:"green",floated:"right",size:"large",icon:!0,onClick:function(){return t.addToList(e.item)}},r.a.createElement(m.a,{name:"plus"})))}a(416);var q=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),i=Object(u.a)(c,2),o=i[0],s=i[1],m=Object(n.useState)(""),d=Object(u.a)(m,2),f=d[0],g=d[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),C=(v[0],v[1],Object(n.useState)("all")),y=Object(u.a)(C,2),O=y[0],j=y[1],k=Object(n.useState)(!0),F=Object(u.a)(k,2),T=F[0],P=F[1],D=Object(n.useState)(!1),z=Object(u.a)(D,2),N=z[0],q=z[1];Object(n.useEffect)((function(){fetch("https://okularnicy-app.firebaseio.com/items.json").then((function(e){return e.json()})).then((function(e){if(e){var t=Object.keys(e).map((function(t){return Object(w.a)({id:t},e[t])}));l(t),P(!1)}})).catch((function(e){return q(e)}))}),[]);var H=a.filter((function(e){return"all"===O?e:e.weather.includes(O)})).filter((function(e){return o?e.typeId===o:e})).filter((function(e){return e.name.toLowerCase().includes(f)})).map((function(e){return r.a.createElement(S.a.Item,{key:e.id},r.a.createElement(S.a.Content,{floated:"right"},r.a.createElement(G,{item:e,iconic:!0,desc:!0})),r.a.createElement(S.a.Content,null,r.a.createElement(E.b,{to:{pathname:"/items/".concat(e.id),state:{item:e}}},r.a.createElement(S.a.Header,null,e.img,e.name),r.a.createElement(S.a.Description,null,e.description))))}));return T?r.a.createElement(x.a,null,r.a.createElement(I.a,{active:!0,inverted:!0},r.a.createElement(L.a,{size:"large"},"Loading")),r.a.createElement(p.a,{src:"https://react.semantic-ui.com/images/wireframe/paragraph.png"})):N?r.a.createElement("h1",null,'"An error occured"'):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null," What you need ? ;)"),r.a.createElement(x.a.Group,{horizontal:!0,className:"filters"},r.a.createElement(x.a,{className:"filter"},r.a.createElement(R,{value:f,onChange:function(e){var t=e.target;g(t.value)}})),r.a.createElement(x.a,{className:"filter"},r.a.createElement(B,{value:O,onChangeRadio:function(e){j(e)}})),r.a.createElement(x.a,{className:"filter"},r.a.createElement(A,{value:o,handleChangeType:function(e){s(e)}}))),r.a.createElement(S.a,{divided:!0},H,r.a.createElement(S.a.Item,null,r.a.createElement(E.b,{to:"/item-add"},r.a.createElement(h.a,{fluid:!0},"Missing something? Add new item")))))},H=a(509),W=a(515),M=function(){return r.a.createElement(H.a,{basic:"very",celled:!0,collapsing:!0},r.a.createElement(H.a.Header,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.HeaderCell,null,"Things To Pack"),r.a.createElement(H.a.HeaderCell,null,"Remained"))),r.a.createElement(H.a.Body,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,r.a.createElement(W.a,{as:"h4",image:!0},r.a.createElement(p.a,{src:"./itemImg/sunglasses.jpg",rounded:!0,size:"mini"}),r.a.createElement(W.a.Content,null,"Glasses"))),r.a.createElement(H.a.Cell,null,"1")),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,r.a.createElement(W.a,{as:"h4",image:!0},r.a.createElement(p.a,{src:"./itemImg/tshirt.jpg",rounded:!0,size:"mini"}),r.a.createElement(W.a.Content,null,"T-shirt"))),r.a.createElement(H.a.Cell,null,"5")),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,r.a.createElement(W.a,{as:"h4",image:!0},r.a.createElement(p.a,{src:"./itemImg/sunscreen.jpg",rounded:!0,size:"mini"}),r.a.createElement(W.a.Content,null,"Sunscreen"))),r.a.createElement(H.a.Cell,null,"1")),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,r.a.createElement(W.a,{as:"h4",image:!0},r.a.createElement(p.a,{src:"./itemImg/goggles.jpg",rounded:!0,size:"mini"}),r.a.createElement(W.a.Content,null,"Goggles"))),r.a.createElement(H.a.Cell,null,"2")),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,r.a.createElement(W.a,{as:"h4",image:!0},r.a.createElement(p.a,{src:"./itemImg/swimsuit.jpeg",rounded:!0,size:"mini"}),r.a.createElement(W.a.Content,null,"Swimsuit"))),r.a.createElement(H.a.Cell,null,"4")),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,r.a.createElement(W.a,{as:"h4",image:!0},r.a.createElement(p.a,{src:"./itemImg/socks.jpeg",rounded:!0,size:"mini"}),r.a.createElement(W.a.Content,null,"Socks"))),r.a.createElement(H.a.Cell,null,"6")),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,r.a.createElement(W.a,{as:"h4",image:!0},r.a.createElement(p.a,{src:"./itemImg/skiis.jpeg",rounded:!0,size:"mini"}),r.a.createElement(W.a.Content,null,"Skiis"))),r.a.createElement(H.a.Cell,null,"1"))))},U=a(513),V=function(){return r.a.createElement(U.a.Group,{size:"large"},r.a.createElement(U.a,null,r.a.createElement(U.a.Value,null,"22"),r.a.createElement(U.a.Label,null,"Saves")),r.a.createElement(U.a,null,r.a.createElement(U.a.Value,{text:!0},"Three",r.a.createElement("br",null),"Thousand"),r.a.createElement(U.a.Label,null,"Signups")),r.a.createElement(U.a,null,r.a.createElement(U.a.Value,null,r.a.createElement(m.a,{name:"plane"}),"5"),r.a.createElement(U.a.Label,null,"Flights")),r.a.createElement(U.a,null,r.a.createElement(U.a.Value,null,r.a.createElement(p.a,{src:"https://react.semantic-ui.com/images/avatar/small/joe.jpg",inline:!0,circular:!0}),"42"),r.a.createElement(U.a.Label,null,"Team Members")))},J=a(517),_=function(){return r.a.createElement(H.a,{celled:!0,padded:!0},r.a.createElement(H.a.Header,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.HeaderCell,{singleLine:!0},"Evidence Rating"),r.a.createElement(H.a.HeaderCell,null,"Effect"),r.a.createElement(H.a.HeaderCell,null,"Efficacy"),r.a.createElement(H.a.HeaderCell,null,"Consensus"),r.a.createElement(H.a.HeaderCell,null,"Comments"))),r.a.createElement(H.a.Body,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,r.a.createElement(W.a,{as:"h2",textAlign:"center"},"A")),r.a.createElement(H.a.Cell,{singleLine:!0},"Power Output"),r.a.createElement(H.a.Cell,null,r.a.createElement(J.a,{icon:"star",defaultRating:3,maxRating:3})),r.a.createElement(H.a.Cell,{textAlign:"right"},"80% ",r.a.createElement("br",null),r.a.createElement("a",{href:"#"},"18 studies")),r.a.createElement(H.a.Cell,null,"Creatine supplementation is the reference compound for increasing muscular creatine levels; there is variability in this increase, however, with some nonresponders.")),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,r.a.createElement(W.a,{as:"h2",textAlign:"center"},"A")),r.a.createElement(H.a.Cell,{singleLine:!0},"Weight"),r.a.createElement(H.a.Cell,null,r.a.createElement(J.a,{icon:"star",defaultRating:3,maxRating:3})),r.a.createElement(H.a.Cell,{textAlign:"right"},"100% ",r.a.createElement("br",null),r.a.createElement("a",{href:"#"},"65 studies")),r.a.createElement(H.a.Cell,null,"Creatine is the reference compound for power improvement, with numbers from one meta-analysis to assess potency"))))},K=a(273),Y=function(){return r.a.createElement(p.a,{src:"https://react.semantic-ui.com/images/wireframe/image-text.png",as:"a",size:"medium",href:"http://google.com",target:"_blank"})},$=a(134),Q=a.n($),X=function(e){Object(v.a)(a,e);var t=Object(C.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"chart-box"},r.a.createElement(Q.a,{animate:!1,animationDuration:500,animationEasing:"ease-out",cx:50,cy:50,data:[{color:"#E38627",value:82}],label:!0,labelPosition:0,labelStyle:{fontFamily:"sans-serif",fontSize:"25px"},lengthAngle:360,lineWidth:20,onClick:void 0,onMouseOut:void 0,onMouseOver:void 0,paddingAngle:0,radius:50,rounded:!1,startAngle:0,totalValue:100,style:{height:"300px"},viewBoxSize:[100,100]}))}}]),a}(r.a.Component);function Z(){return r.a.createElement("div",{style:{marginTop:"70px"}},r.a.createElement(K.a,{stackable:!0,columns:3,divided:!0},r.a.createElement(K.a.Row,{stretched:!0},r.a.createElement(K.a.Column,{textAlign:"center"},r.a.createElement(x.a,null,r.a.createElement(Y,null))),r.a.createElement(K.a.Column,null,r.a.createElement(x.a,null,r.a.createElement(X,null),r.a.createElement("h3",{style:{textAlign:"center",fontFamily:"sans-serif",color:"#E38627",fontSize:"25px"}},"Spakowane rzeczy"))),r.a.createElement(K.a.Column,{textAlign:"left"},r.a.createElement(x.a,null,r.a.createElement(M,null))))),r.a.createElement(K.a,{textAlign:"center",columns:2},r.a.createElement(K.a.Row,null,r.a.createElement(K.a.Column,null,r.a.createElement(x.a,null,r.a.createElement(V,null))))),r.a.createElement(K.a,{columns:1},r.a.createElement(K.a.Row,{stretched:!0},r.a.createElement(K.a.Column,{textAlign:"center"},r.a.createElement(x.a,null,r.a.createElement(_,{style:{marginLeft:"50px"}}))))))}var ee=a(506);function te(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),o=Object(u.a)(i,2),s=(o[0],o[1]),m=Object(n.useState)(!1),d=Object(u.a)(m,2),p=d[0],h=d[1];return Object(n.useEffect)((function(){fetch("https://okularnicy-app.firebaseio.com/items/".concat(e.match.params.id,".json")).then((function(e){return e.json()})).then((function(t){var a=t;a.id=e.match.params.id,c(a),h(!1)})).catch((function(e){return s(e)}))}),[]),p?r.a.createElement(I.a,{active:!0,inverted:!0},r.a.createElement(L.a,{size:"large"},"Loading")):r.a.createElement(ee.a.Group,{relaxed:!0},r.a.createElement(ee.a,null,r.a.createElement(ee.a.Image,{src:l.image?l.image:null}),r.a.createElement(ee.a.Content,null,r.a.createElement(ee.a.Header,null,l.img?l.img:null," ",l.name),r.a.createElement(ee.a.Meta,null,r.a.createElement("span",null,l.description)),r.a.createElement(ee.a.Description,null,"Tip: ",l.proTip),r.a.createElement(ee.a.Extra,null,r.a.createElement(G,{item:l,list:!0,desc:!0})))))}var ae=function(e){Object(v.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={items:[],listedItems:[],loading:!0,error:null},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://okularnicy-app.firebaseio.com/items.json").then((function(e){return e.json()})).then((function(t){if(t){var a=Object.keys(t).map((function(e){return Object(w.a)({id:e},t[e])}));e.setState({items:a})}})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({loading:!1})}))}},{key:"filterItems",value:function(){var e=this,t=[];return this.state.items.map((function(a){if(e.context.state.userList.includes(a.id))return t.push(a),null})),t}},{key:"render",value:function(){return this.state.loading?r.a.createElement(x.a,null,r.a.createElement(I.a,{active:!0,inverted:!0},r.a.createElement(L.a,{size:"large"},"Loading")),r.a.createElement(p.a,{src:"https://react.semantic-ui.com/images/wireframe/paragraph.png"})):this.state.error?r.a.createElement("h1",null,'"An error occured"'):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null," Things to pack"),this.context.state.userList.length<1?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("h3",null,"Nothing to pack")," ",r.a.createElement(E.b,{to:"/"},r.a.createElement(h.a,{color:"orange",fluid:!0,content:"See list of items"}))):r.a.createElement(S.a,{divided:!0},this.context.state.userList.map((function(e){return r.a.createElement(S.a.Item,{key:e.id},r.a.createElement(S.a.Content,{floated:"right"},r.a.createElement(G,{item:e,iconic:!0,list:!0,desc:!0})),r.a.createElement(E.b,{to:{pathname:"/items/".concat(e.id),state:{item:e}}},r.a.createElement(S.a.Content,{className:e.done&&"item-done"},r.a.createElement(S.a.Header,null,e.img," ",e.name),r.a.createElement(S.a.Description,null,e.description))))}))))}}]),a}(r.a.Component);ae.contextType=y;var ne=a(502),re=a(510),le=a(511),ce=a(503),ie=(a(418),function(e){Object(v.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isLoaded:!1,editPhoto:!1,img:null,uploadProgress:null,uploadError:null,uploadSuccess:null,uploadMessage:"",visible:!1},e.handleDismiss=function(){e.setState({visible:!1})},e.handleclick=function(){return e.setState((function(e){return{editPhoto:!e.editPhoto}}))},e.handleOnImgChange=function(t){var a=t.target;e.setState({img:a.files[0]})},e.handleSave=function(){var t=o.a.auth().currentUser.uid,a=o.a.storage().ref("users/"+t).put(e.state.img,{contentType:"image/jpeg"});a.on("state_changed",(function(t){var a=t.bytesTransferred/t.totalBytes*100;e.setState({uploadProgress:a,uploadSuccess:!1,uploadMessage:"Uploading photo...",visible:!0})}),(function(t){e.setState({uploadError:t,uploadMessage:"An error occured, please try again.",uploadProgress:null})}),(function(){a.snapshot.ref.getDownloadURL().then((function(t){e.context.state.user.updateProfile({photoURL:t}).then((function(){e.setState((function(e){return{uploadSuccess:!0,uploadMessage:"Photo updated successfully",uploadProgress:!e.uploadProgress,editPhoto:!1}})),e.context.refresh()}))}))}))},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.editPhoto,a=e.img,n=e.uploadError,l=e.uploadProgress,c=e.uploadSuccess,i=e.visible,o=e.uploadMessage;return r.a.createElement(ne.a,null,r.a.createElement(W.a,null,"User Panel "),r.a.createElement(K.a,{columns:2,relaxed:"very",stackable:!0},r.a.createElement(K.a.Column,null,r.a.createElement(re.a,null,r.a.createElement(le.a,{positive:c,hidden:!i,attached:"top",content:r.a.createElement(r.a.Fragment,null,o,l&&r.a.createElement(ce.a,{size:"tiny",color:"blue",percent:l,success:c,error:n})),onDismiss:this.handleDismiss}),r.a.createElement(p.a,{centered:!0,wrapped:!0,size:"medium",src:this.context.state.user.photoURL||"/assets/userPlaceholder.jpg"}),t?r.a.createElement(z.a,null,r.a.createElement(h.a.Group,{fluid:!0},r.a.createElement("label",{className:"fileContainer"},r.a.createElement(h.a,{disabled:l,content:"Browse",icon:"image"}),r.a.createElement("input",{type:"file",onChange:this.handleOnImgChange})),r.a.createElement(h.a,{disabled:!a||l,icon:"save",content:"Save",positive:!0,type:"submit",onClick:this.handleSave}),r.a.createElement(h.a,{icon:"cancel",type:"submit",onClick:this.handleclick}))):r.a.createElement(h.a,{color:"orange",onClick:this.handleclick},"Change photo"))),r.a.createElement(K.a.Column,null,r.a.createElement(W.a,null,"Hello ",this.context.state.user.displayName||"stranger","!"),r.a.createElement(h.a.Group,{vertical:!0},r.a.createElement(E.b,{to:"/user-list"},r.a.createElement(h.a,{icon:!0,labelPosition:"left",primary:!0,onClick:this.handleclick,style:{margin:"5px"}},r.a.createElement(m.a,{fitted:!0,name:"list"})," My list")),r.a.createElement(E.b,{to:"/dashboard"},r.a.createElement(h.a,{icon:!0,labelPosition:"left",onClick:this.handleclick,style:{margin:"5px"}},r.a.createElement(m.a,{fitted:!0,name:"chart pie"})," Dashboard"))))))}}]),a}(r.a.Component));ie.contextType=y;var oe=a(77),ue=a(262),se=a.n(ue),me=(a(420),{name:"",type:"10",weather:["9"],proTip:"",description:"",img:""}),de=function(e){Object(v.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).handleInputsChange=function(e){var t=e.target;n.setState(Object(F.a)({},t.name,t.value))},n.handleOnImgChange=function(e){var t=e.target;n.setState({img:t.files[0]})},n.createTask=function(e){fetch("https://okularnicy-app.firebaseio.com/items.json",{method:"POST",body:JSON.stringify(e)}).then((function(){n.setState(me)})).catch((function(e){alert(e.message)}))},n.handleAddClick=function(e){e.preventDefault();var t=se()(),a={name:n.state.name,typeId:n.state.type,weather:n.state.weather,description:n.state.description,proTip:n.state.proTip,quantity:"default",image:null};n.state.img?o.a.storage().ref("img/"+t).put(n.state.img).then((function(e){e.ref.getDownloadURL().then((function(e){a.image=e})).then((function(){n.createTask(a)}))})):n.createTask(a)},n.state={name:"",type:"10",weather:["9"],description:"",img:"",proTip:"",itemTypes:[],weathers:[]},n.handleClick=n.handleClick.bind(Object(oe.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(oe.a)(n)),n.handleTypeChange=n.handleTypeChange.bind(Object(oe.a)(n)),n.handleWeatherChange=n.handleWeatherChange.bind(Object(oe.a)(n)),fetch("./item-types.json").then((function(e){return e.json()})).then((function(e){n.setState({itemTypes:e})})),fetch("./weather.json").then((function(e){return e.json()})).then((function(e){n.setState({weathers:e})})),n}return Object(b.a)(a,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"handleWeatherChange",value:function(e){this.setState({weather:[e.target.value]})}},{key:"handleClick",value:function(e){this.refs.fileUploader.click()}},{key:"render",value:function(){this.state.itemTypes.map((function(e){return e}));return r.a.createElement(z.a,{className:"formGroup"},r.a.createElement(z.a.Group,null,r.a.createElement(z.a.Input,{label:"Name of new item",placeholder:"Name",value:this.state.name,onChange:this.handleNameChange}),r.a.createElement(z.a.Field,{label:"Weather",control:"select",onChange:this.handleWeatherChange},this.state.weathers.map((function(e){return r.a.createElement("option",{value:e.id},e.type)}))),r.a.createElement(z.a.Field,{label:"Type",control:"select",onChange:this.handleTypeChange},this.state.itemTypes.map((function(e){return r.a.createElement("option",{placeholder:"Weather",value:e.key},e.value)})))),r.a.createElement(z.a.Group,{fluid:!0},r.a.createElement(z.a.Input,{name:"description",label:"Description",placeholder:"Description",value:this.state.description,onChange:this.handleInputsChange}),r.a.createElement(z.a.Input,{name:"proTip",label:"Pro tip",placeholder:"Pro tip",value:this.state.proTip,onChange:this.handleInputsChange})),r.a.createElement("div",{className:"formButtons"},this.state.img&&r.a.createElement(m.a,{color:"green",name:"check circle outline"}),r.a.createElement(z.a.Button,{onClick:this.handleClick},"Add picture"),r.a.createElement("input",{onChange:this.handleOnImgChange,type:"file",id:"file",ref:"fileUploader",style:{display:"none"}}),r.a.createElement(z.a.Button,{disabled:0===this.state.name.trim().length,onClick:this.handleAddClick},"Add item")))}}]),a}(r.a.Component),pe=a(518),he=function(e){Object(v.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",error:null,forgotPassword:!1,emailSent:null,resetError:null},e.handleOnChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(F.a)({},n,r))},e.handleOnClick=function(t){t.preventDefault(),e.signIn()},e.handleOnClickForgot=function(t){t.preventDefault(),e.setState((function(e){return{forgotPassword:!e.forgotPassword}}))},e.handleOnClickResetPassword=function(t){t.preventDefault();var a=o.a.auth(),n=e.state.email;e.setState({eror:null}),a.sendPasswordResetEmail(n).then((function(){e.setState({emailSent:!0,resetError:!1})})).catch((function(t){var a=t.message;e.setState({emailSent:!1,resetError:a})}))},e.signIn=function(){var t=e.state,a=t.email,n=t.password;o.a.auth().signInWithEmailAndPassword(a,n).catch((function(t){var a=t.message;e.setState({error:a})}))},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=e.forgotPassword,c=e.emailSent,i=e.resetError;return l?r.a.createElement(z.a,null,r.a.createElement(le.a,{icon:"key",header:"Forgot password",content:"enter your e-mail to reset password"}),r.a.createElement(le.a,{icon:"key",positive:!0,hidden:!c,content:"E-mail sent. Check your e-mail inbox to reset the password"}),r.a.createElement(le.a,{icon:"x",negative:!0,hidden:!i&&!0,content:i}),r.a.createElement(z.a.Input,{required:!0,type:"email",fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail",value:t,name:"email",onChange:this.handleOnChange}),r.a.createElement(h.a.Group,{vertical:!0,fluid:!0},r.a.createElement(h.a,{content:"Reset password",color:"orange",fluid:!0,onClick:this.handleOnClickResetPassword}),r.a.createElement(h.a,{content:"back to login",fluid:!0,onClick:this.handleOnClickForgot}))):r.a.createElement(z.a,null,r.a.createElement(le.a,{icon:"key",header:"Login",content:"to use all features"}),r.a.createElement(le.a,{icon:"x",negative:!0,hidden:!n&&!0,content:n}),r.a.createElement(z.a.Input,{required:!0,type:"email",fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail",value:t,name:"email",onChange:this.handleOnChange}),r.a.createElement(z.a.Input,{required:!0,fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",value:a,name:"password",onChange:this.handleOnChange}),r.a.createElement(h.a.Group,{vertical:!0,fluid:!0},r.a.createElement(h.a,{disabled:t.trim().length<1||a.trim().length<1,content:"Login",color:"orange",onClick:this.handleOnClick}),r.a.createElement(h.a,{content:"Forgot password",onClick:this.handleOnClickForgot})))}}]),a}(r.a.Component),Ee=function(e){Object(v.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",password:"",error:null},e.handleOnChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(F.a)({},n,r))},e.handleOnClick=function(t){t.preventDefault(),e.signUp()},e.signUp=function(){var t=e.state,a=t.email,n=t.password,r=t.name;o.a.auth().createUserWithEmailAndPassword(a,n).then((function(){var e=o.a.auth().currentUser;e&&e.updateProfile({displayName:r}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})).catch((function(t){var a=t.message;e.setState({error:a})}))},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=e.name;return r.a.createElement(z.a,null,r.a.createElement(le.a,{icon:"user plus",header:"Create an account",content:"register new account"}),r.a.createElement(le.a,{icon:"x",negative:!0,hidden:!n&&!0,content:n}),r.a.createElement(z.a.Input,{required:!0,fluid:!0,icon:"user",iconPosition:"left",placeholder:"Name",type:"text",value:l,name:"name",onChange:this.handleOnChange}),r.a.createElement(z.a.Input,{required:!0,fluid:!0,icon:"mail",iconPosition:"left",placeholder:"E-mail",type:"email",value:t,name:"email",onChange:this.handleOnChange}),r.a.createElement(z.a.Input,{required:!0,fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Has\u0142o",type:"password",value:a,name:"password",onChange:this.handleOnChange}),r.a.createElement(h.a,{disabled:t.trim().length<1||a.trim().length<1,positive:!0,content:"Create an account",fluid:!0,onClick:this.handleOnClick}))}}]),a}(r.a.Component);function fe(){var e=[{menuItem:"Login",render:function(){return r.a.createElement(pe.a.Pane,{content:r.a.createElement(he,null)})}},{menuItem:"Register",render:function(){return r.a.createElement(pe.a.Pane,{content:r.a.createElement(Ee,null)})}}];return r.a.createElement(pe.a,{panes:e})}var ge=function(e){return Object(n.useContext)(y).state.user?Object(w.a)({},e.children):r.a.createElement(fe,null)},be=a(519),ve=a(22),Ce=a.n(ve),ye=a(34),Oe=a(512),je=a(504),ke=a(136),we=a.n(ke),Se=function(e){var t=e.handleCurrency,a=e.mainCurrency,l=e.compact,c=e.edit,i=Object(n.useState)([]),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)([]),p=Object(u.a)(d,2),h=p[0],E=p[1],f=Object(n.useState)(null),g=Object(u.a)(f,2),b=g[0],v=g[1],C=Object(n.useState)(!1),y=Object(u.a)(C,2),O=y[0],j=y[1],k=Object(n.useState)(c?c.currency:a),w=Object(u.a)(k,2),S=w[0],x=w[1];Object(n.useEffect)((function(){I()}),[]);var I=function(){var e=Object(ye.a)(Ce.a.mark((function e(){var n,r,l;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,we.a.get("https://api.exchangeratesapi.io/latest?base=".concat(a));case 4:n=e.sent,r=n.data,l=Object.keys(r.rates).map((function(e){return{text:e,value:e,key:e}})),E(r),m(l),t(S,c?c.rate:1),j(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),j(!1),v(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(T.a,{placeholder:"Select",compact:!!l,fluid:!0,search:!0,selection:!0,loading:O,error:b,options:s,value:S,onChange:function(e,a){var n=a.value;x(n),t(n,h.rates[n])}})},xe=function(e){var t=e.wallet,a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(!1),d=Object(u.a)(s,2),p=d[0],E=d[1],f=Object(n.useState)(0|t.budget[0].amount),g=Object(u.a)(f,2),b=g[0],v=g[1],C=Object(n.useState)(t.mainCurrency),O=Object(u.a)(C,2),j=O[0],k=O[1],S=Object(n.useState)(0),x=Object(u.a)(S,2),I=(x[0],x[1]),L=Object(n.useContext)(y).state.user.uid;Object(n.useEffect)((function(){return function(){return clearTimeout(F)}}),[]);var F=function(){return setTimeout((function(){E(!1),i(!1)}),2e3)};return r.a.createElement(je.a,{open:c,onClose:function(){return i(!1)},closeOnDimmerClick:!1,size:"tiny",trigger:r.a.createElement(h.a,{icon:!0,circular:!0,floated:"right",onClick:function(){return i(!0)}},r.a.createElement(m.a,{name:"setting",color:"teal"}))},r.a.createElement(je.a.Content,null,r.a.createElement(je.a.Description,null,r.a.createElement(le.a,{color:p?"green":"grey"},r.a.createElement(le.a.Header,null,"Budget settings"),r.a.createElement(le.a.Content,null,p?"Changes saved!":"Modify your budget or change main currency")),r.a.createElement(z.a,{onSubmit:function(){var e={amount:b,currency:j};console.log("add",e),o.a.database().ref("users/".concat(L,"/budget/wallet/budget/0/")).update(Object(w.a)({},e)),o.a.database().ref("users/".concat(L,"/budget/wallet/")).update({mainCurrency:e.currency}),E(!0),F()}},r.a.createElement(z.a.Group,{unstackable:!0},r.a.createElement(z.a.Field,{required:!0},r.a.createElement("label",{htmlFor:"amount"},"Total budget"),r.a.createElement("input",{name:"amount",type:"number",min:"0.01",step:"0.01",value:b,onChange:function(e){var t=e.target;return v(t.value)}})),r.a.createElement(z.a.Field,{required:!0},r.a.createElement("label",{htmlFor:"currency"},"Main currency"),r.a.createElement(Se,{handleCurrency:function(e,t){k(e),I(t)},mainCurrency:t.mainCurrency}))),r.a.createElement(h.a.Group,{floated:"right"},r.a.createElement(h.a,{type:"reset",onClick:function(){i(!1)},content:"Close"}),r.a.createElement(h.a,{as:"button",type:"submit",content:"Save",positive:!0,disabled:b<.01||""===j})))),r.a.createElement("br",null)))},Ie=function(){var e=Object(ye.a)(Ce.a.mark((function e(t){var a,n;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.get("https://api.exchangeratesapi.io/latest?base=".concat(t));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(e){var t=e.wallet,a=(e.loading,e.spent),l=Object(n.useState)(),c=Object(u.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(),m=Object(u.a)(s,2);m[0],m[1];Object(n.useEffect)((function(){h(t.mainCurrency||"PLN")}),[t]);var d=function(){return r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Line,{length:"short"}))},p=function(){if(void 0===a.spentCalculated)return"-";var e,t=(e=a.spentCalculated,Object.keys(e).reduce((function(t,a){return t+parseFloat(e[a]||0)}),0));return parseFloat(t).toFixed(2)},h=function(){var e=Object(ye.a)(Ce.a.mark((function e(t){var a;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t);case 2:a=e.sent,o(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,null,"Wallet summary ",t.budget&&r.a.createElement(xe,{wallet:t})),r.a.createElement(re.a,{fluid:!0},r.a.createElement(re.a.Content,null,r.a.createElement(H.a,{basic:"very",celled:!0,unstackable:!0,compact:!0},r.a.createElement(H.a.Body,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,"Total budget"),r.a.createElement(H.a.Cell,{width:6},t.budget&&i?t.budget[0].amount:d()," ",t.mainCurrency)),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,"Avaible budget"),r.a.createElement(H.a.Cell,null,t.budget&&i?"~".concat(function(){var e=function(e){var t=e.budget.reduce((function(t,a){return t+function(e,t,a,n){return e/n.rates[t]}(a.amount,a.currency,e.mainCurrency,i)}),0);return parseFloat(t).toFixed(2)}(t)-p();return parseFloat(e).toFixed(2)}()):d(),"  ",t.mainCurrency)),r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,"Total spent"),r.a.createElement(H.a.Cell,null,t.budget&&i?"~".concat(p()):d()," ",t.mainCurrency)))))))},Fe=a(274),Te=new Date,Pe=function(e){var t=e.edit,a=e.mainCurrency,l={id:"",currency:"",amount:0,rate:"",baseCurr:"",amountInBaseCurr:0,date:Te.toISOString().slice(0,10),hour:Te.toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric"}),place:"",type:"",name:"",desc:"",location:{lat:"",lon:""}},c=Object(n.useState)(t?t.rate:null),i=Object(u.a)(c,2),s=i[0],m=i[1],p=Object(n.useState)(null),E=Object(u.a)(p,2),f=E[0],g=E[1],b=Object(n.useState)(!1),v=Object(u.a)(b,2),C=v[0],O=v[1],j=Object(Fe.a)({defaultValues:t||l}),k=j.register,S=j.setValue,x=j.handleSubmit,I=j.watch,L=j.errors,F=(j.reset,j.getValues,I("amount"),Object(n.useContext)(y).state.user.uid);Object(n.useEffect)((function(){return k({name:"currency"}),function(){return clearTimeout(T)}}),[k]);var T=function(){return setTimeout((function(){g(!1),O(!1)}),2e3)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{open:C,onClose:function(){return O(!1)},closeOnDimmerClick:!1,size:"tiny",trigger:t?r.a.createElement(h.a,{icon:"edit",onClick:function(){return O(!0)}}):r.a.createElement(h.a,{onClick:function(){return O(!0)},className:"spendings__btn--fixed",color:"orange",icon:"plus",circular:!0,size:"big"})},r.a.createElement(je.a.Content,null,r.a.createElement(je.a.Description,null,r.a.createElement(le.a,{color:f?"green":"gray"},r.a.createElement(le.a.Header,null,t?"Edit spending":"Add spending"),r.a.createElement(le.a.Content,null,f?"Changes saved!":"Fill out the form below to ".concat(t?"edit":"add"," spending"))),r.a.createElement(z.a,{onSubmit:x((function(e,n){n.preventDefault();var r=Date.now(),l=Date.now(),c=parseInt(e.amount),i=e.amount/s,u={timestamp:Date.now(),timestampEdit:Date.now(),amount:parseInt(e.amount),amountInBaseCurr:e.amount/s};if(console.log(u),t)console.log("edit",e),o.a.database().ref("users/".concat(F,"/budget/spendings/").concat(t.id)).update(Object(w.a)({timestampEdit:l,rate:s,baseCurr:a,amountInBaseCurr:i},e,{amount:c}));else{console.log("new",e);var m=o.a.database().ref().child("users/".concat(F,"/budget/spendings/")).push().key;console.log(m),o.a.database().ref("users/".concat(F,"/budget/spendings/").concat(m,"/")).set(Object(w.a)({timestamp:r,rate:s,baseCurr:a,amountInBaseCurr:i},e,{amount:c}))}g(!0),T()}))},r.a.createElement(z.a.Field,{required:!0},r.a.createElement("label",{htmlFor:"desc"},"Description"),r.a.createElement("input",{name:"desc",ref:k({required:!0})}),L.desc&&r.a.createElement(d.a,{basic:!0,color:"red",prompt:!0,pointing:!0},"This field is required")),r.a.createElement(z.a.Group,{unstackable:!0},r.a.createElement(z.a.Field,{required:!0},r.a.createElement("label",{htmlFor:"amount"},"Amount"),r.a.createElement("input",{name:"amount",type:"number",min:"0.01",step:"0.01",ref:k({required:!0})}),L.amount&&r.a.createElement(d.a,{basic:!0,color:"red",prompt:!0,pointing:!0},"This field is required")),r.a.createElement(z.a.Field,{required:!0},r.a.createElement("label",{htmlFor:"currency"},"Currency"),r.a.createElement(Se,{handleCurrency:function(e,t){S("currency",e),m(t)},mainCurrency:a,edit:t||!1}),L.currency&&r.a.createElement(d.a,{basic:!0,color:"red",prompt:!0,pointing:!0},"This field is required"))),r.a.createElement(z.a.Group,null,r.a.createElement(z.a.Field,{required:!0},r.a.createElement("label",{htmlFor:"type"},"Type"),r.a.createElement("input",{name:"type",ref:k({required:!0})}),L.type&&r.a.createElement(d.a,{basic:!0,color:"red",prompt:!0,pointing:!0},"This field is required")),r.a.createElement(z.a.Field,null,r.a.createElement("label",{htmlFor:"Place"},"Place"),r.a.createElement("input",{name:"place",ref:k()}))),r.a.createElement(z.a.Group,null,r.a.createElement(z.a.Field,{required:!0},r.a.createElement("label",{htmlFor:"date"},"Date"),r.a.createElement("input",{name:"date",type:"date",ref:k({required:!0})}),L.date&&r.a.createElement(d.a,{basic:!0,color:"red",prompt:!0,pointing:!0},"This field is required")),r.a.createElement(z.a.Field,null,r.a.createElement("label",{htmlFor:"hour"},"Time"),r.a.createElement("input",{name:"hour",type:"time",ref:k()}))),r.a.createElement(h.a.Group,{floated:"right"},r.a.createElement(h.a,{type:"reset",onClick:function(){return O(!1)},content:"Close"}),r.a.createElement(h.a,{as:"button",type:"submit",content:"Save",positive:!0})),r.a.createElement("br",null))))))},Ae=function(e){e.number;return r.a.createElement(x.a,{raised:!0},r.a.createElement(Oe.a,null,r.a.createElement(Oe.a.Header,null,r.a.createElement(Oe.a.Line,null),r.a.createElement(Oe.a.Line,null)),r.a.createElement(Oe.a.Paragraph,null,r.a.createElement(Oe.a.Line,{length:"medium"}),r.a.createElement(Oe.a.Line,{length:"short"}))))},De=function(e){var t=e.spendings,a=e.loading,l=e.error,c=e.mainCurrency,i=o.a.database(),u=Object(n.useContext)(y).state.user.uid;return l?r.a.createElement("h2",null,"Error :("):a?r.a.createElement(r.a.Fragment,null," ",r.a.createElement(Ae,null),r.a.createElement(Ae,null),r.a.createElement(Ae,null),r.a.createElement(Ae,null)," "):null===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{mainCurrency:c}),r.a.createElement(x.a,{raised:!0},r.a.createElement("h3",null,"No spendings yet."),r.a.createElement("h4",null,"Add some."))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{mainCurrency:c}),r.a.createElement(re.a.Group,null,t.map((function(e){return r.a.createElement(re.a,{fluid:!0,color:"yellow",key:e.id},r.a.createElement(re.a.Content,null,r.a.createElement(re.a.Header,{textAlign:"right"},r.a.createElement(d.a,{color:"teal"},e.type),e.place&&r.a.createElement(d.a,null,e.place.slice(0,50))," ".concat(e.amount," ").concat(e.currency)),r.a.createElement(re.a.Meta,null,e.date," ",e.hour),r.a.createElement(re.a.Description,{style:{overflowWrap:"break-word"}},e.desc,r.a.createElement(h.a.Group,{floated:"right",basic:!0,compact:!0},r.a.createElement(Pe,{edit:e,mainCurrency:c}),r.a.createElement(h.a,{icon:"trash",onClick:function(){return i.ref("users/".concat(u,"/budget/spendings/").concat(e.id)).remove()}})))))}))))},Re=function(e){var t=e.wallet,a=e.spent,n=[{color:"#E38627",title:"Spent",value:parseInt(function(){var e,t=(e=a.spentCalculated,Object.keys(e).reduce((function(t,a){return t+parseFloat(e[a]||0)}),0));return parseFloat(t).toFixed(2)}())},{color:"#C13C37",title:"Remaining",value:t.budget[0].amount-a.spentCalculated[t.mainCurrency]}];return r.a.createElement(Q.a,{animate:!0,center:[50,50],data:n,label:function(e){return"".concat(parseFloat(e.data[e.dataIndex].percentage).toFixed(1),"% ").concat(e.data[e.dataIndex].title)},labelPosition:70,lineWidth:15,paddingAngle:0,radius:50,rounded:!0,startAngle:0,viewBoxSize:[130,130],labelStyle:{fontSize:"6px"}})},ze=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),i=Object(u.a)(c,2),s=(i[0],i[1],Object(n.useState)(0)),m=Object(u.a)(s,2),d=m[0],p=m[1],h=Object(n.useState)([]),E=Object(u.a)(h,2),f=E[0],g=E[1],b=Object(n.useState)(!1),v=Object(u.a)(b,2),C=v[0],y=v[1],O=Object(n.useState)(!1),j=Object(u.a)(O,2),k=j[0],S=j[1],x=Object(n.useState)(null),I=Object(u.a)(x,2),L=(I[0],I[1],Object(n.useState)(null)),F=Object(u.a)(L,2),T=F[0],P=(F[1],o.a.auth().currentUser.uid),A=o.a.database().ref("users/".concat(P,"/budget/spendings/")),D=o.a.database().ref("users/".concat(P,"/budget/wallet/"));Object(n.useEffect)((function(){R(),z()}),[]);var R=function(){y(!0),D.on("value",(function(e){var t=e.val();t?(l(t),y(!1),console.log(a)):(l(null),y(!1))}))},z=function(){S(!0),A.on("value",(function(e){var t=e.val();if(t){console.log("List not empty");var a=Object.keys(t).map((function(e){return Object(w.a)({id:e},t[e])})).reverse();p(N(a)),g(a)}else g(null);S(!1)}))},N=function(e){var t={},a={};return e.reduce((function(e,n){var r=e.filter((function(e){return e.currency==n.currency})).pop()||{currency:n.currency,amount:0,amountInBaseCurr:0};return r.amountInBaseCurr+=n.amountInBaseCurr,r.amount+=n.amount,!e.includes(r)&&e.push(r),t[r.currency]=r.amount,a[r.currency]=r.amountInBaseCurr,e}),[]),{spent:t,spentCalculated:a}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{maxWidth:650},r.a.createElement(Le,{wallet:a,loading:C,spent:d}),r.a.createElement(De,{spendings:f,error:T,loading:k,mainCurrency:a.mainCurrency})),r.a.createElement(be.a,{minWidth:651},r.a.createElement(K.a,{columns:2},r.a.createElement(K.a.Column,null,r.a.createElement(Le,{wallet:a,loading:C,spent:d}),r.a.createElement(De,{spendings:f,error:T,loading:k,mainCurrency:a.mainCurrency})),r.a.createElement(K.a.Column,null,a.budget&&d&&r.a.createElement(Re,{wallet:a,spent:d})))))};var Ne=function(){return r.a.createElement(E.a,null,r.a.createElement("div",{className:"containerWrapper"},r.a.createElement(ge,null,r.a.createElement(k.d,null,r.a.createElement(k.b,{path:"/user-list",component:ae}),r.a.createElement(k.b,{path:"/item-form",component:de}),r.a.createElement(k.b,{path:"/userProfile",component:ie}),r.a.createElement(k.b,{path:"/dashboard",component:Z}),r.a.createElement(k.b,{path:"/wallet",component:ze}),r.a.createElement(k.b,{path:"/item-add",component:de}),r.a.createElement(k.b,{path:"/items/:id",component:te,exact:!0}),r.a.createElement(k.b,{path:"/",component:q}),r.a.createElement(k.a,{to:"/"})))),r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.initializeApp({apiKey:"AIzaSyCBBzR29M0PB2JgHOHPurLDoYEmapMHUxU",authDomain:"packmeapp-77c66.firebaseapp.com",databaseURL:"https://packmeapp-77c66.firebaseio.com",projectId:"packmeapp-77c66",storageBucket:"packmeapp-77c66.appspot.com",messagingSenderId:"1034465593756",appId:"1:1034465593756:web:7df35e436960387cfbe059"}),c.a.render(r.a.createElement(O,null,r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[285,1,2]]]);
//# sourceMappingURL=main.6d5d83ad.chunk.js.map